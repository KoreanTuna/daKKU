<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Onboarding page 2</title>
    <link rel="stylesheet" href="/stylesheets/textStyle.css" />
    <link rel="stylesheet" href="/stylesheets/onboarding2.css" />

</head>

<body>
    <div class="whole">
        <div class="step-progress">
            <div class="step-item">
                <div class="step-circle selected">
                    <h4>1<h4>
                </div>
                <div class="step-description selected">
                    <h4>기본<br>정보</h4>
                </div>
            </div>
            <div class="step-line"></div>
            <div class="step-item">
                <div class="step-circle">
                    <h4>2</h4>
                </div>
                <div class="step-description">
                    <h4>다음<br>스탭</h4>
                </div>
            </div>
            <div class="step-line"></div>
            <div class="step-item">
                <div class="step-circle">
                    <h4>3</h4>
                </div>
                <div class="step-description">
                    <h4>다음<br>스탭</h4>
                </div>
            </div>
            <div class="step-line"></div>
            <div class="step-item">
                <div class="step-circle">
                    <h4>4</h4>
                </div>
                <div class="step-description">
                    <h4>마지막 스탭</h4>
                </div>
            </div>
        </div>

        <div class="name">
            <h3>당신이 좋아하는 스타일을 선택해주세요<br>(나중에 다시 수정할 수 있습니다)</h3>
        </div>

        <div class="container">
            <div class="box-group">
                <button id="box1" class="box boxchoice"><img src="/images/사이버.png" id="boximg" alt="사이버 이미지">
                    <span id="boxtext">사이버</span></button>
                <button id="box2" class="box boxchoice"><img src="/images/농장주.png" id="boximg" alt="농장주 이미지">
                    <span id="boxtext">농장주</span></button>
            </div>
            <div class="box-group">
                <button id="box3" class="box boxchoice"><img src="/images/베이커.png" id="boximg" alt="베이커 이미지">
                    <span id="boxtext">베이커</span></button>
                <button id="box4" class="box boxchoice"><img src="/images/방학.png" id="boximg" alt="방학 이미지">
                    <span id="boxtext">방학</span></button>
            </div>
        </div>


        <div id="confirm-button" class="button" style="cursor: pointer"
            onclick="location.href='http://localhost:3000/u3'">
            <button id="confirmButton" class="confirm-button"><span>확인</span></button>
        </div>
    </div>
    <script>
        let buttons = document.getElementsByClassName('box');

        for(let i = 0; i < buttons.length; i++) {
        buttons[i].addEventListener('click', function() {
            for(let j = 0; j < buttons.length; j++) {
            buttons[j].classList.remove('selected');
            }
            this.classList.add('selected');
        });
        }
        for(let i = 0; i < buttons.length; i++) {

       
        }


        let backgroundURL = "/images/bg/hpBackground.png";
        let folderURL = "";
        let folderAddURL = "";
        let color = "";
        const boxConfirm = document.getElementsByClassName("boxchoice");

        for (var i = 0; i < boxConfirm.length; i++) {
            (function (index) {
                boxConfirm[index].addEventListener("click", function () {
                    switch (boxConfirm[index].innerText) {
                        case "사이버":
                            backgroundURL = "/images/bg/cyberBG.png";
                            folderURL = "/images/folderIcon/folder_icon_cyber.png"
                            folderAddURL = "/images/folderIcon/folder_add_cyber.png";
                            color = "2B34FD";
                            break;
                        case "농장주":
                            backgroundURL = "/images/bg/farmerBG.png";
                            folderURL = "/images/folderIcon/folder_icon_farmer.png"
                            folderAddURL = "/images/folderIcon/folder_add_farmer.png";
                            color = "A24C1F";
                            break;
                        case "베이커":
                            backgroundURL = "/images/bg/bakerBG.png";
                            folderURL = "/images/folderIcon/folder_icon_baker.png"
                            folderAddURL = "/images/folderIcon/folder_add_baker.png";
                            color = "E13A8A";
                            break;
                        case "방학":
                            backgroundURL = "/images/bg/vacationBG.png";
                            folderURL = "/images/folderIcon/folder_icon_vacation.png"
                            folderAddURL = "/images/folderIcon/folder_add_vacation.png";
                            color = "533CDE";
                            break;

                        default:
                            backgroundURL = "/images/bg/cyberBG.png";
                            folderURL = "/images/folderIcon/folder_icon_cyber.png"
                            folderAddURL = "/images/folderIcon/folder_add_cyber.png";
                            color = "2B34FD";
                            break;
                    }
                })
            })(i);
        }
        const confirmButton = document.getElementById("confirmButton");
        confirmButton.addEventListener("click", async () => {
            let data = {
                backgroundURL: backgroundURL,
                folderAddURL: folderAddURL,
                folderURL: folderURL,
                color: color,
            };
            const response = await fetch("/onboarding2/saveCustom", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify(data),
            });
        });
    </script>
</body>

</html>